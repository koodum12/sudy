#### source monitorë¥¼ react-grid-layoutìœ¼ë¡œ êµ¬í˜„í•˜ë ¤ê³  í•¨
- ë¬¸ì œ 1 : dnd-kitì„ ì‚¬ìš©í•´ timelineìœ¼ë¡œ ë“œë˜ê·¸í•´ì„œ ì˜ìƒì„ ëª» ë¶™ì—¬ ë„£ì„ ìˆ˜ ë„ ìˆìŒ
- ë¬¸ì œ 2 : cssê³ ì¹˜ê¸° ê·€ì°®ìŒ

- í•´ê²°ë°©ë²• 1 : dnd-kitì„ ì•ˆ ì“°ê³  ë‚´ê°€ êµ¬í˜„
	- ë¬¸ì œì  1 : ì‹œê°„ì´ ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦¼
	- ë¬¸ì œì  2 : react-grid-layoutì„ ì“°ëŠ” ì‹œì ì—ì„œ ê·¸ ì˜¤ë¸Œì íŠ¸ëŠ” ê·¸ êµ¬ì—­ì„ ëª» ë²—ì–´ë‚  í™•ìœ¨ì´ í¼
- í•´ê²°ë°©ë²• 2 : react-grid-layoutëŒ€ì‹  dnd-kitì‚¬ìš©
	- ë¬¸ì œì  1 : ì§€ì • ì˜ì—­ì„ ëª» ë²—ì–´ë‚  í™•ìœ¨ì´ í¼
	- ë¬¸ì œì  2 : grid-layoutì„ êµ¬í˜„í•˜ëŠ” ë¶€ë¶„ì—ì„œ ì‹œê°„ì†Œìš”ê°€ êµ‰ì¥íˆ í´ ê²ƒ ê°™ìŒ
- í•´ê²°ë°©ë²• 3 : ìì²´ dndêµ¬í˜„
	- ë¬¸ì œì  1 : êµ¬í˜„ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦´ ë“¯
	- ë¬¸ì œì  2 : ì½”ë“œ ë³´ê¸° í˜ë“¤ì–´ì§ˆ í™•ìœ¨ì´ ë†’ì•„ì§

- í•´ê²°ë°©ë²• 4 : ê·¸ëƒ¥ source monitorì—ì„œ ëª» ì›€ì§ì´ê²Œ í•˜ë©´ ë¨
	- ëª¨ë“  ë¬¸ì œê°€ í•´ê²° ë¨


#### source monitorì—ì„œ timelinedmfh ì–´ë–»ê²Œ ê°€ì ¸ì˜¬ ê²ƒì¸ê°€





### gpt ì¶”ì²œ
#### 1ï¸âƒ£ ê¸°ë³¸ ì›ì¹™ (ì ˆëŒ€ ê¹¨ì§€ë©´ ì•ˆ ë˜ëŠ” ê²ƒ)

- í´ë¦½ ë°ì´í„°ëŠ” **ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œë§Œ ì €ì¥**
    
    - `startTime`
        
    - `duration`
        
- í”½ì…€ ê°’ì€ **ë Œë”ë§ ì‹œì—ë§Œ ê³„ì‚°**
    
- Timeline DOM í¬ê¸° ë³€í™”ëŠ” **ë°ì´í„°ì— ì˜í–¥ ì—†ìŒ**
    
- ì‹œê°„ â†” í”½ì…€ ë³€í™˜ì€ **ë‹¨ì¼ ê¸°ì¤€ê°’(pxPerSecond)**ë§Œ ì‚¬ìš©
    

---

#### 2ï¸âƒ£ ì „ì—­ ê¸°ì¤€ê°’ ì •ì˜

- `pxPerSecond` ìƒíƒœë¡œ ê´€ë¦¬
    
- ê¸°ë³¸ê°’ ì˜ˆ: `100`
    
- Zoom in / out ì‹œ ì´ ê°’ë§Œ ë³€ê²½
    

---

#### 3ï¸âƒ£ ë°ì´í„° ëª¨ë¸ ì„¤ê³„

- Clip êµ¬ì¡°
    
    - `id`
        
    - `trackId`
        
    - `startTime`
        
    - `duration`
        
- Timeline ìƒíƒœ
    
    - `clips[]`
        
    - `pxPerSecond`
        
    - `totalDuration` (ë Œë”ë§ìš©)
        

---

#### 4ï¸âƒ£ Timeline ì»¨í…Œì´ë„ˆ êµ¬ì¡°

- ì™¸ë¶€ ì»¨í…Œì´ë„ˆ
    
    - `position: relative`
        
    - `overflow-x: auto`
        
- ë‚´ë¶€ ì½˜í…ì¸  ë ˆì´ì–´
    
    - `width = totalDuration * pxPerSecond`
        
- Track Row
    
    - `position: relative`
        
- Clip
    
    - `position: absolute`
        

---

#### 5ï¸âƒ£ Source â†’ Timeline Drag & Drop

- dnd-kit ì‚¬ìš©
    
- Timeline ì „ì²´ë¥¼ droppableë¡œ ë“±ë¡
    
- Drag ì¤‘:
    
    - ë§ˆìš°ìŠ¤ `clientX` ìˆ˜ì§‘
        
    - timeline `getBoundingClientRect()`
        
    - `scrollLeft` ë°˜ì˜
        
    - `x â†’ time` ë³€í™˜
        
    - `snap(time)`
        
    - ghost clip ìœ„ì¹˜ ì—…ë°ì´íŠ¸
        
- Drop ì‹œ:
    
    - `startTime = previewTime`
        
    - clip ë°ì´í„° ìƒì„±
        
    - ghost ì œê±°
        

---

#### 6ï¸âƒ£ Drag ì¤‘ ì‹œê°„ ê³„ì‚° ê³µì‹

- `x = clientX - timelineLeft + scrollLeft`
    
- `time = x / pxPerSecond`
    
- ìŒìˆ˜ ë°©ì§€
    
- ìŠ¤ëƒ… ì ìš©
    

---

#### 7ï¸âƒ£ Ghost Clip ì²˜ë¦¬

- ì‹¤ì œ clipê³¼ ë¶„ë¦¬ëœ ìƒíƒœ
    
- ë“œë˜ê·¸ ì¤‘ì—ë§Œ ë Œë”ë§
    
- `pointer-events: none`
    
- opacity ì ìš©
    

---

#### 8ï¸âƒ£ Timeline ë‚´ë¶€ Clip ì´ë™

- dnd-kit ì‚¬ìš© âŒ
    
- mouse ì´ë²¤íŠ¸ ì§ì ‘ ì²˜ë¦¬
    
- `onMouseDown`:
    
    - startX ê¸°ë¡
        
    - startTime ê¸°ë¡
        
- `onMouseMove`:
    
    - deltaPx ê³„ì‚°
        
    - deltaTime = deltaPx / pxPerSecond
        
    - `startTime + deltaTime`
        
- `onMouseUp`:
    
    - clip ë°ì´í„° ì—…ë°ì´íŠ¸ í™•ì •
        

---

#### 9ï¸âƒ£ Clip ë¦¬ì‚¬ì´ì¦ˆ

- ì¢Œ/ìš° resize handle ì œê³µ
    
- ì˜¤ë¥¸ìª½ í•¸ë“¤:
    
    - durationë§Œ ë³€ê²½
        
- ì™¼ìª½ í•¸ë“¤:
    
    - startTime + duration í•¨ê»˜ ë³€ê²½
        
- ìµœì†Œ duration ì œí•œ
    
- ìŠ¤ëƒ… ì ìš©
    

---

#### ğŸ”Ÿ Timeline Resize ëŒ€ì‘

- ResizeObserverë¡œ timeline width ê°ì§€
    
- width ê°’ì€:
    
    - auto-scroll íŒë‹¨
        
    - playhead ì¤‘ì•™ ìœ ì§€
        
    - UI ê³„ì‚°ìš©
        
- ì‹œê°„ ê³„ì‚°ì—ëŠ” ì‚¬ìš© âŒ
    

---

#### 1ï¸âƒ£1ï¸âƒ£ Zoom ì²˜ë¦¬

- ë²„íŠ¼ / íœ  ì´ë²¤íŠ¸ë¡œ zoom ì œì–´
    
- `pxPerSecond`ë§Œ ë³€ê²½
    
- ëª¨ë“  clip ë Œë”ë§ ìë™ ë°˜ì˜
    

---

#### 1ï¸âƒ£2ï¸âƒ£ Scroll ê´€ë¦¬

- playhead ê¸°ì¤€ ì¤‘ì•™ ìœ ì§€ ì˜µì…˜
    
- resize ì „/í›„ scroll ë¹„ìœ¨ ìœ ì§€ ì˜µì…˜
    
- drag ì¤‘ ê°€ì¥ìë¦¬ auto-scroll êµ¬í˜„
    

---

#### 1ï¸âƒ£3ï¸âƒ£ Track ê³„ì‚°

- ë§ˆìš°ìŠ¤ Yì¢Œí‘œ ê¸°ì¤€
    
- `trackIndex = floor((clientY - timelineTop) / trackHeight)`
    
- clip ì´ë™ ì‹œ trackId ë³€ê²½
    

---

#### 1ï¸âƒ£4ï¸âƒ£ ì¶©ëŒ ì²˜ë¦¬ (ì„ íƒ)

- Drop ì‹œ:
    
    - ê²¹ì¹˜ë©´ ê¸ˆì§€ / ë®ì–´ì“°ê¸° / ripple ì¤‘ ì„ íƒ
        
- Drag ì¤‘:
    
    - ì¶©ëŒ ì˜ì—­ ì‹œê°í™” ê°€ëŠ¥
        

---

#### 1ï¸âƒ£5ï¸âƒ£ Undo / Redo ëŒ€ë¹„

- Drop / DragEnd / ResizeEnd ì‹œì ë§Œ
    
    - history stack push
        
- Drag ì¤‘ state ë³€ê²½ ê¸°ë¡ âŒ
    

---

#### 1ï¸âƒ£6ï¸âƒ£ ì„±ëŠ¥ ê¸°ì¤€

- Drag ì¤‘ state ìµœì†Œí™”
    
- requestAnimationFrame ì‚¬ìš© ê°€ëŠ¥
    
- clip ìˆ˜ ë§ìœ¼ë©´ virtual rendering ê³ ë ¤
    

---

#### 1ï¸âƒ£7ï¸âƒ£ ë‹¨ê³„ë³„ êµ¬í˜„ ìˆœì„œ (ì¶”ì²œ)

1. Timeline ë Œë”ë§ (ì‹œê°„ â†’ í”½ì…€)
    
2. Source â†’ Timeline Drop
    
3. Ghost clip
    
4. ë‚´ë¶€ clip ì´ë™
    
5. ë¦¬ì‚¬ì´ì¦ˆ
    
6. Zoom
    
7. Track
    
8. ì¶©ëŒ / ripple